<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Settings</title>
    <!-- <link rel="stylesheet" type="text/css" href="style/qrcode.css" /> -->
    <!-- <script src="script/qrcode.min.js"></script> -->
</head>

<body>
    <button onclick="changeTextColorWhite();">White(Default)</button>
    <button onclick="changeTextColorBlack();">Black</button>
    <br>
    <input type="color" id="inline-color-picker" value="#ffffff">
    <label for="inline-color-picker">Inline</label>
    <input type="color" id="outline-color-picker" value="#000000">
    <label for="outline-color-picker">Outline</label>

    <script type="text/javascript">
        const Store = require('electron-store');
        const store = new Store();

        function switchColor(name, base, alternative) {
            // get color by name, with base as default
            var color = store.get(name) || base;
            // switch color between base and alternative
            color = color === base ? alternative : base;
            // update to storage
            store.set(name, color);
        }

        const inlinePicker = document.getElementById('inline-color-picker');
        const outlinePicker = document.getElementById('outline-color-picker');

        inlinePicker.addEventListener('change', (e) => {
            store.set('text-inline-color', e.target.value);
        }, false);

        outlinePicker.addEventListener('change', (e) => {
            store.set('text-outline-color', e.target.value);
        }, false);

        function reflectColorPicker() {
            var inColor = store.get('text-inline-color') || "#ffffff";
            inlinePicker.value = inColor;
            var outColor = store.get('text-outline-color') || "#000000";
            outlinePicker.value = outColor;
        }

        function changeTextColorWhite() {
            store.set('text-inline-color', "#ffffff")
            store.set('text-outline-color', "#000000")
            reflectColorPicker();
        }

        function changeTextColorBlack() {
            store.set('text-inline-color', "#000000")
            store.set('text-outline-color', "#ffffff")
            reflectColorPicker();
        }

        window.onload = () => {
            alert("haha")
            reflectColorPicker();
        }
    </script>
</body>
</html>